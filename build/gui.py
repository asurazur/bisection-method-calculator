
# This file was generated by the Tkinter Designer by Parth Jadhav
# https://github.com/ParthJadhav/Tkinter-Designer


from pathlib import Path

# from tkinter import *
# Explicit imports to satisfy Flake8
import tkinter as tk
from coes import bisection
from tkinter import Tk, Canvas, Entry, Text, Button, PhotoImage, font, StringVar

OUTPUT_PATH = Path(__file__).parent
ASSETS_PATH = OUTPUT_PATH / \
    Path(r"C:\Users\rumbl\OneDrive\Desktop\Bisection Calc\build\assets\frame0")


def relative_to_assets(path: str) -> Path:
    return ASSETS_PATH / Path(path)


def validate_guess_input(P):
    if P == "":
        return True
    try:
        # Try to convert the input to a float
        num = float(P)
        # Check if the input is a valid integer or a float with one leading zero
        if num == int(num) or (P[0] == '0' and P[1] == '.'):
            return True
        else:
            return False
    except ValueError:
        return False


def validate_fx_input(P):
    valid_chars = "0123456789x^()%.*+-/"
    prev_char = None  # To keep track of the previous character
    for char in P:
        if char not in valid_chars:
            return False
        if char in "x()%.*/+-" and char == prev_char:
            return False
        prev_char = char
    return True


def show_result(event):
    expression = bisection(
        equation.get(),
        float(guess1.get()),
        float(guess2.get()),
    )
    if (expression.is_valid()):
        result = round(expression.solve(), 5)
        result_var.set(str(result))
    else:
        result_var.set("Invalid Input")


def clear():
    guess1.set("0")
    guess2.set("0")


if __name__ == "__main__":
    window = Tk()
    window.geometry("725x652")
    window.configure(bg="#000000")

    guess1 = StringVar(value="0")
    guess2 = StringVar(value="0")
    equation = StringVar()
    result_var = StringVar()

    validate_guess_input_cmd = window.register(validate_guess_input)
    validate_fx_input_cmd = window.register(validate_fx_input)

    canvas = Canvas(
        window,
        bg="#000000",
        height=652,
        width=725,
        bd=0,
        highlightthickness=0,
        relief="ridge"
    )

    canvas.place(x=0, y=0)
    button_image_1 = PhotoImage(
        file=relative_to_assets("button_1.png"))
    button_1 = Button(
        image=button_image_1,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_1 clicked"),
        relief="flat"
    )
    button_1.place(
        x=545.0,
        y=556.0,
        width=161.0,
        height=70.0
    )

    button_image_2 = PhotoImage(
        file=relative_to_assets("button_2.png"))
    button_2 = Button(
        image=button_image_2,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_2 clicked"),
        relief="flat"
    )
    button_2.place(
        x=635.0,
        y=194.0,
        width=70.0,
        height=70.0
    )

    button_image_3 = PhotoImage(
        file=relative_to_assets("button_3.png"))
    button_3 = Button(
        image=button_image_3,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_3 clicked"),
        relief="flat"
    )
    button_3.place(
        x=455.0,
        y=194.0,
        width=70.0,
        height=70.0
    )

    button_image_4 = PhotoImage(
        file=relative_to_assets("button_4.png"))
    button_4 = Button(
        image=button_image_4,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_4 clicked"),
        relief="flat"
    )
    button_4.place(
        x=545.0,
        y=194.0,
        width=70.0,
        height=70.0
    )

    button_image_5 = PhotoImage(
        file=relative_to_assets("button_5.png"))
    button_5 = Button(
        image=button_image_5,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_5 clicked"),
        relief="flat"
    )
    button_5.place(
        x=545.0,
        y=374.0,
        width=70.0,
        height=70.0
    )

    button_image_6 = PhotoImage(
        file=relative_to_assets("button_6.png"))
    button_6 = Button(
        image=button_image_6,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_6 clicked"),
        relief="flat"
    )
    button_6.place(
        x=545.0,
        y=284.0,
        width=70.0,
        height=70.0
    )

    button_image_7 = PhotoImage(
        file=relative_to_assets("button_7.png"))
    button_7 = Button(
        image=button_image_7,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_7 clicked"),
        relief="flat"
    )
    button_7.place(
        x=545.0,
        y=464.0,
        width=70.0,
        height=70.0
    )

    button_image_8 = PhotoImage(
        file=relative_to_assets("button_8.png"))
    button_8 = Button(
        image=button_image_8,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_8 clicked"),
        relief="flat"
    )
    button_8.place(
        x=365.0,
        y=194.0,
        width=70.0,
        height=70.0
    )

    button_image_9 = PhotoImage(
        file=relative_to_assets("button_9.png"))
    button_9 = Button(
        image=button_image_9,
        borderwidth=0,
        highlightthickness=0,
        command=clear,
        relief="flat"
    )
    button_9.place(
        x=275.0,
        y=194.0,
        width=70.0,
        height=70.0
    )

    button_image_10 = PhotoImage(
        file=relative_to_assets("button_10.png"))
    button_10 = Button(
        image=button_image_10,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_10 clicked"),
        relief="flat"
    )
    button_10.place(
        x=635.0,
        y=374.0,
        width=70.0,
        height=71.0
    )

    button_image_11 = PhotoImage(
        file=relative_to_assets("button_11.png"))
    button_11 = Button(
        image=button_image_11,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_11 clicked"),
        relief="flat"
    )
    button_11.place(
        x=455.0,
        y=374.0,
        width=70.0,
        height=71.0
    )

    button_image_12 = PhotoImage(
        file=relative_to_assets("button_12.png"))
    button_12 = Button(
        image=button_image_12,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_12 clicked"),
        relief="flat"
    )
    button_12.place(
        x=365.0,
        y=374.0,
        width=70.0,
        height=71.0
    )

    button_image_13 = PhotoImage(
        file=relative_to_assets("button_13.png"))
    button_13 = Button(
        image=button_image_13,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_13 clicked"),
        relief="flat"
    )
    button_13.place(
        x=275.0,
        y=374.0,
        width=70.0,
        height=71.0
    )

    button_image_14 = PhotoImage(
        file=relative_to_assets("button_14.png"))
    button_14 = Button(
        image=button_image_14,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_14 clicked"),
        relief="flat"
    )
    button_14.place(
        x=635.0,
        y=284.0,
        width=70.0,
        height=70.0
    )

    button_image_15 = PhotoImage(
        file=relative_to_assets("button_15.png"))
    button_15 = Button(
        image=button_image_15,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_15 clicked"),
        relief="flat"
    )
    button_15.place(
        x=455.0,
        y=284.0,
        width=70.0,
        height=70.0
    )

    button_image_16 = PhotoImage(
        file=relative_to_assets("button_16.png"))
    button_16 = Button(
        image=button_image_16,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_16 clicked"),
        relief="flat"
    )
    button_16.place(
        x=365.0,
        y=284.0,
        width=70.0,
        height=70.0
    )

    button_image_17 = PhotoImage(
        file=relative_to_assets("button_17.png"))
    button_17 = Button(
        image=button_image_17,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_17 clicked"),
        relief="flat"
    )
    button_17.place(
        x=275.0,
        y=284.0,
        width=70.0,
        height=70.0
    )

    button_image_18 = PhotoImage(
        file=relative_to_assets("button_18.png"))
    button_18 = Button(
        image=button_image_18,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_18 clicked"),
        relief="flat"
    )
    button_18.place(
        x=635.0,
        y=465.0,
        width=70.0,
        height=71.0
    )

    button_image_19 = PhotoImage(
        file=relative_to_assets("button_19.png"))
    button_19 = Button(
        image=button_image_19,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_19 clicked"),
        relief="flat"
    )
    button_19.place(
        x=455.0,
        y=465.0,
        width=70.0,
        height=71.0
    )

    button_image_20 = PhotoImage(
        file=relative_to_assets("button_20.png"))
    button_20 = Button(
        image=button_image_20,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_20 clicked"),
        relief="flat"
    )
    button_20.place(
        x=365.0,
        y=465.0,
        width=70.0,
        height=71.0
    )

    button_image_21 = PhotoImage(
        file=relative_to_assets("button_21.png"))
    button_21 = Button(
        image=button_image_21,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_21 clicked"),
        relief="flat"
    )
    button_21.place(
        x=365.0,
        y=556.0,
        width=70.0,
        height=71.0
    )

    button_image_22 = PhotoImage(
        file=relative_to_assets("button_22.png"))
    button_22 = Button(
        image=button_image_22,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_22 clicked"),
        relief="flat"
    )
    button_22.place(
        x=455.0,
        y=556.0,
        width=70.0,
        height=71.0
    )

    button_image_23 = PhotoImage(
        file=relative_to_assets("button_23.png"))
    button_23 = Button(
        image=button_image_23,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_23 clicked"),
        relief="flat"
    )
    button_23.place(
        x=275.0,
        y=465.0,
        width=70.0,
        height=71.0
    )

    button_image_24 = PhotoImage(
        file=relative_to_assets("button_24.png"))
    button_24 = Button(
        image=button_image_24,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: print("button_24 clicked"),
        relief="flat"
    )
    button_24.place(
        x=275.0,
        y=556.0,
        width=70.0,
        height=71.0
    )

    entry_image_1 = PhotoImage(
        file=relative_to_assets("entry_1.png"))
    entry_bg_1 = canvas.create_image(
        136.0,
        225.0,
        image=entry_image_1
    )
    entry_1 = Entry(
        textvariable=guess1,
        bd=0,
        bg="#313131",
        fg="#FFFFFF",
        insertbackground="white",
        highlightthickness=0,
        font=font.Font(family="Inter", size=16),
        justify="center",
        validate="key",
        validatecommand=(validate_guess_input_cmd, "%P")
    )
    entry_1.place(
        x=52.0,
        y=190.0+30,
        width=168.0,
        height=68.0 - 30
    )

    entry_image_2 = PhotoImage(
        file=relative_to_assets("entry_2.png"))
    entry_bg_2 = canvas.create_image(
        136.0,
        320.0,
        image=entry_image_2
    )
    entry_2 = Entry(
        textvariable=guess2,
        bd=0,
        bg="#313131",
        fg="#FFFFFF",
        insertbackground="white",
        highlightthickness=0,
        font=font.Font(family="Inter", size=16),
        justify="center",
        validate="key",
        validatecommand=(validate_guess_input_cmd, "%P")
    )
    entry_2.place(
        x=52.0,
        y=285.0+30,
        width=168.0,
        height=68.0-30
    )

    entry_image_3 = PhotoImage(
        file=relative_to_assets("entry_3.png"))
    entry_bg_3 = canvas.create_image(
        580.0,
        128.0,
        image=entry_image_3
    )
    entry_3 = Entry(
        textvariable=result_var,
        bd=0,
        bg="#FF9B00",
        fg="#FFFFFF",
        disabledbackground="#FF9B00",
        disabledforeground="#FFFFFF",
        state="disabled",
        highlightthickness=0,
        insertbackground="white",
        font=font.Font(family="Inter", size=16),
        justify="center"
    )
    entry_3.place(
        x=490.0,
        y=88.0+30,
        width=180.0,
        height=78.0-30
    )

    entry_image_4 = PhotoImage(
        file=relative_to_assets("entry_4.png"))
    entry_bg_4 = canvas.create_image(
        226.0,
        125.0,
        image=entry_image_4
    )
    entry_4 = Entry(
        textvariable=equation,
        bd=0,
        bg="#313131",
        fg="#FFFFFF",
        insertbackground="white",
        highlightthickness=0,
        font=font.Font(family="Inter", size=16),
        justify="center",
        validate="key",
        validatecommand=(validate_fx_input_cmd, "%P")
    )
    entry_4.place(
        x=52.0,
        y=85.0+35,
        width=348.0,
        height=78.0 - 35
    )

    canvas.create_text(
        53.0,
        92.0,
        anchor="nw",
        text="f(x)",
        fill="#FFFFFF",
        font=("PlayfairDisplayItalic SemiBold", 24 * -1)
    )

    canvas.create_text(
        53.0,
        191.0,
        anchor="nw",
        text="x",
        fill="#FFFFFF",
        font=("PlayfairDisplayItalic SemiBold", 24 * -1)
    )

    canvas.create_text(
        53.0,
        285.0,
        anchor="nw",
        text="x",
        fill="#FFFFFF",
        font=("PlayfairDisplayItalic SemiBold", 24 * -1)
    )

    canvas.create_text(
        502.0,
        95.0,
        anchor="nw",
        text="r",
        fill="#FFFFFF",
        font=("PlayfairDisplayItalic SemiBold", 24 * -1)
    )

    canvas.create_text(
        64.0,
        199.0+5,
        anchor="nw",
        text="0",
        fill="#FFFFFF",
        font=("PlayfairDisplayItalic SemiBold", 16 * -1)
    )

    canvas.create_text(
        64.0,
        293.0+5,
        anchor="nw",
        text="1",
        fill="#FFFFFF",
        font=("PlayfairDisplayItalic SemiBold", 16 * -1)
    )

    canvas.create_text(
        29.0,
        22.0,
        anchor="nw",
        text="Bisection Method",
        fill="#FFFFFF",
        font=("Inter Medium", 24 * -1)
    )

    window.bind("<Return>", show_result)
    entry_4.bind("<FocusIn>", clear_placeholder)
    window.resizable(False, False)
    window.mainloop()
